(this["webpackJsonplive-currency"]=this["webpackJsonplive-currency"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){},27:function(e,t,a){e.exports=a(55)},51:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(1),i=a(8),s=a.n(i),u=a(22),d=a(23),v="http://api.exchangeratesapi.io/latest?access_key=".concat("a3fa333ea3691a461d1ded0bd4bdf2ad"),m={IDR:"Indonesian Rupiah",USD:"United States Dollar",EUR:"Euro",CAD:"Canadian Dollar",SGD:"Singapore Dollar",HKD:"HongKong Dollar",GBP:"British Pound Sterling",CHF:"Switzerland Franc",INR:"Indian Rupee",MYR:"Malaysian Ringgit",JPY:"Japanese Yen",KRW:"Korean Won"},f=a(24),g=a.n(f),b=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],c=a[1];return{value:r,onChange:function(e){return c(e.target.value)}}},h=function(e,t){var a,r=Object(n.useState)(null!==(a=JSON.parse(localStorage.getItem(e)))&&void 0!==a?a:t),c=Object(o.a)(r,2),l=c[0],i=c[1];return[l,function(t){i(t),localStorage.setItem(e,JSON.stringify(t))}]},p=(a(51),function(e){var t=e.alert,a=e.removeAlert,n=r.a.createElement("svg",{className:"svg-inline--fa fa-check-circle fa-w-16 fa-lg fa-2x","data-prefix":"fa","data-icon":"check-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.a.createElement("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})),c=r.a.createElement("svg",{className:"svg-inline--fa fa-exclamation-circle fa-w-16 fa-lg fa-2x","data-prefix":"fa","data-icon":"exclamation-circle",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.a.createElement("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"})),l="error"===t.type?"alert-error":"alert-success",o="error"===t.type?c:n;return r.a.createElement("div",{className:"alert show ".concat(l)},r.a.createElement("div",{className:"icon"},o),r.a.createElement("div",{className:"message"},t.message),r.a.createElement("button",{type:"button",className:"cross-button",onClick:a},r.a.createElement("span",{className:"close"},r.a.createElement("i",{className:"fas fa-times"}))))}),E=Object(n.createContext)(null),w=function(e){var t=e.children,a=Object(n.useState)({show:!1}),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useCallback)((function(){return i({show:!1})}),[]),u=Object(n.useCallback)((function(e,t){i({show:!0,message:e,type:t}),setTimeout((function(){return i({show:!1})}),3e3)}),[]),d={alert:l,addAlert:function(e,t){return u(e,t)},removeAlert:s};return r.a.createElement(E.Provider,{value:d},t,l.show?r.a.createElement(p,{alert:l,removeAlert:s}):null)},y=Object(n.createContext)({}),j=function(e){var t,a=e.children,c=h("rates",{}),l=Object(o.a)(c,2),i=l[0],d=l[1],f=h("listedCurrency",Object.keys(m)),b=Object(o.a)(f,2),p=b[0],w=b[1],j=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(!1),d=Object(o.a)(i,2),m=d[0],f=d[1],b=Object(n.useState)(null),h=Object(o.a)(b,2),p=h[0],E=h[1],w=Object(n.useCallback)(Object(u.a)(s.a.mark((function e(){var a,n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,g.a.get(t);case 4:if(!(null===(o=e.sent)||void 0===o||null===(a=o.data)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.code)){e.next=7;break}throw new Error(null===o||void 0===o||null===(r=o.data)||void 0===r||null===(c=r.error)||void 0===c?void 0:c.info);case 7:l(null===o||void 0===o?void 0:o.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),E(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))),[t]);return Object(n.useEffect)((function(){e&&w()}),[w,e]),{data:c,error:p,loading:m}}(0===(null===(t=Object.keys(i))||void 0===t?void 0:t.length)),C=Object(n.useContext)(E).addAlert;return Object(n.useEffect)((function(){var e;j.error?C(String(null===j||void 0===j?void 0:j.error),"error"):j.data&&d(null===j||void 0===j||null===(e=j.data)||void 0===e?void 0:e.rates)}),[C,i,j,d]),r.a.createElement(y.Provider,{value:{rates:i,listedCurrency:p,setListedCurrency:w}},a)},C=function(e){var t=String(e.trim()),a=".".charCodeAt(0),n=["0".charCodeAt(0),"9".charCodeAt(0)];if(e.includes("-"))return!1;for(var r=0,c=0;c<t.length;c++){var l=t.charCodeAt(c);if(l===a&&r++,l!==a&&(l<n[0]||l>n[1]))return!1}return parseInt(t)>=0&&r<=1},O=function(e){return e.trim().length<11},x=function(e){return e in m?"".concat(e," - ").concat(m[e]):"International"},N=function(e){var t,a;if(String(e).includes("-"))return e;if(""===String(e))return"0.00";for(var n=String(e).trim().split("."),r="",c=n[0].length-1;c>=0;c--)r+=n[0][c],(n[0].length-c)%3===0&&0!==c&&(r+=",");var l=null===(t=r)||void 0===t?void 0:t.split("").reverse().join("");return n[1]&&(l+="."+(null===(a=n[1])||void 0===a?void 0:a.substring(0,4))),l},S=Object(n.createContext)({}),k="Value invalid",A="Value should be less than 10 character",M=function(e){var t=e.children,a=b("IDR"),c=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Object(n.useState)(e),c=Object(o.a)(r,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),v=u[0],m=u[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),b=g[0],h=g[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),w=E[0],y=E[1];return Object(n.useEffect)((function(){var e,n=Object(d.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(""!==l){if(!r.check(l))return h(!1),m(r.message),void y("form-error");h(!0),m(a),y("")}0===l.length&&m(a)}}catch(c){n.e(c)}finally{n.f()}}),[l,t,b,v,a,w]),Object(n.useEffect)((function(){b&&""!==l&&y("")}),[l,b]),{value:l,setValue:i,message:v,isSubmittable:b,errorClassName:w}}("100000",[{check:Object(n.useCallback)(C,[]),message:k},{check:Object(n.useCallback)(O,[]),message:A}]);return r.a.createElement(S.Provider,{value:{price:c,chosenCurrency:a}},t)},R=(a(19),function(e){var t=e.label,a=e.data,n=e.type,c=e.extraClassName,l=void 0===c?"":c;return r.a.createElement("span",{className:"form-area ".concat(l," ").concat(null===a||void 0===a?void 0:a.errorClassName)},r.a.createElement("input",{id:t,required:!0,style:{textAlign:"right",width:"".concat(String(null===a||void 0===a?void 0:a.value).length,"rem")},className:"form-input",value:null===a||void 0===a?void 0:a.value,type:null!==n&&void 0!==n?n:"text",inputMode:"number"===n?"numeric":"text",onChange:function(e){e.target.value.length>8||a.setValue(e.target.value)},placeholder:t}),r.a.createElement("span",{className:"form-label-info"},r.a.createElement("div",{className:"form-message-wrapper"},null===a||void 0===a?void 0:a.message)))}),W=function(e){var t=e.label,a=e.data,n=e.optionList,c=e.defaultValue,l=e.extraClassName,o=void 0===l?"":l;return r.a.createElement("div",{className:"form-area ".concat(o," ").concat(null===a||void 0===a?void 0:a.errorClassName)},r.a.createElement("select",{value:null===a||void 0===a?void 0:a.value,onChange:null===a||void 0===a?void 0:a.onChange},r.a.createElement("option",{value:c,defaultValue:c},c),n&&n.length>0&&n.sort().map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("span",{className:"form-select-label"},t),r.a.createElement("span",{className:"form-label-info"},r.a.createElement("div",{className:"form-message-wrapper"},null===a||void 0===a?void 0:a.message)))},L="Enter value",I=function(e){var t=e.currencyKeys,a=Object(n.useContext)(S),c=a.price,l=a.chosenCurrency;return r.a.createElement("div",{id:"header"},r.a.createElement("h5",null,x(null===l||void 0===l?void 0:l.value)),r.a.createElement("div",{className:"row space-between mt-2"},r.a.createElement("section",{style:{flex:1}},r.a.createElement(W,{data:l,optionList:t})),r.a.createElement("section",{style:{flex:2}},r.a.createElement(R,{label:L,extraClassName:"text-right align-right",data:c}))))},D=function(e){var t=e.currency,a=Object(n.useContext)(S),c=a.chosenCurrency,l=a.price,o=Object(n.useContext)(y),i=o.rates,s=o.listedCurrency,u=o.setListedCurrency,d=x(t),v=Object(n.useMemo)((function(){return e=i,a=t,n=c.value,e[a]/e[n];var e,a,n}),[c,t,i]),m=Object(n.useMemo)((function(){return function(e,t){return t.isSubmittable&&""!==t.value?parseInt(t.value)*e:"-"}(v,l)}),[v,l]);return r.a.createElement("div",{style:{padding:"20px",paddingBottom:"10px"},className:"row"},r.a.createElement("section",{className:"col-10"},r.a.createElement("div",{className:"row"},r.a.createElement("h5",{className:"col-4"},t),r.a.createElement("h5",{className:"col-8 text-right"},N(m)),r.a.createElement("div",{className:"col-12"},d),r.a.createElement("div",{className:"col-12",style:{color:"var(--tertiary-color)"}},r.a.createElement("em",null,"1 ",c.value," = ",N(v)," ",t)))),r.a.createElement("section",{className:"col-2"},r.a.createElement("button",{type:"button",className:"cross-button remove",onClick:function(){var e=s.filter((function(e){return e!==t}));u(e)}},r.a.createElement("span",{className:"close",style:{color:"var(--primary-color)"}},r.a.createElement("i",{className:"fas fa-times"})))))},z=function(){var e=Object(n.useContext)(y).listedCurrency,t=Object(n.useContext)(S).chosenCurrency;return r.a.createElement(r.a.Fragment,null,e.filter((function(e){return e!==t.value})).map((function(e){return r.a.createElement(D,{key:e,currency:e})})))},K=a(26),P="Add",B="No currency selected",U="Currency listed",V="Currency added!",J="More currency",F=function(e){var t=e.currencyKeys,a=b(""),c=Object(n.useContext)(E).addAlert,l=Object(n.useContext)(y),o=l.listedCurrency,i=l.setListedCurrency;return r.a.createElement("div",{style:{padding:"var(--universal-padding)"}},r.a.createElement("div",{className:"row space-between mt-2"},r.a.createElement("section",{style:{flex:1}},r.a.createElement(W,{data:a,optionList:t,defaultValue:J})),r.a.createElement("section",{style:{flex:2},className:"text-right align-right"},r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){try{if(o.includes(a.value))throw new Error(U);if(t.length>0&&!t.includes(a.value))throw new Error(B);i([].concat(Object(K.a)(o),[a.value])),c(V,"success")}catch(e){c(e.message,"error")}}},P))))},T=(a(20),function(){var e=Object(n.useContext)(y),t=Object(n.useMemo)((function(){return(t=null===e||void 0===e?void 0:e.rates)?Object.keys(t):{};var t}),[e]);return r.a.createElement("div",{id:"full-page"},r.a.createElement(I,{currencyKeys:t}),r.a.createElement(z,null),r.a.createElement(F,{currencyKeys:t}))}),Y=function(){return r.a.createElement("div",{id:"large-screen"},r.a.createElement("h1",null,"Rotate your screen for better UX"))},G=(a(52),function(){var e=function(){var e=Object(n.useState)(window.innerWidth),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){return r(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[a]),{width:a,isMobile:a<850}}().isMobile;return r.a.createElement(w,null,r.a.createElement(M,null,r.a.createElement(j,null,e?r.a.createElement(T,null):r.a.createElement(Y,null))))}),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(25).a.initialize("G-TBFW4LY2KP",{debug:!0,titleCase:!0}),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/live-currency",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/live-currency","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(t,e)}))}}()}},[[27,1,2]]]);